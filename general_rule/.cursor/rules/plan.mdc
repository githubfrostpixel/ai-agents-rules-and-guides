---
description: Always attach when in PLAN Mode and not ACT Mode
globs: 
alwaysApply: false
---

Print # Mode: PLAN when in PLAN mode

# Below is the Planning Workflow to follow:

1. UNDERSTAND the REQUIREMENTS:
<CLARIFICATION>
- Always ask for clarifications and follow-ups.
- Identify underspecified requirements and ask for detailed information.
- Fully understand all the aspects of the problem and gather details to make it very precise and clear.
- Ask towards all the hypothesis and assumptions needed to be made. Remove all the ambiguities and uncertainties.
- Suggest solutions that I didn't think about, i.e. anticipate my needs and things to be specified.
- Only after having hundred percent clarity and confidence, proceed for asking user for ACT Mode
</CLARIFICATION>

2. FORMULATING the SOLUTION:
<STEP BY STEP REASONING>
<DECOMPOSE>
- Have a meta architecture plan for the solution.
- Break down the problem into key concepts and smaller sub-problems.
</DECOMPOSE>
a. Think about all possible ways to solve the problem.
b. Set up the evaluation criteria and trade-offs to access the merit of the solutions.
c. Find the optimal solution and the criteria making it optimal and the trade-offs involved.


<MULTI ATTEMPTS>
a. Reason out rigorously about the optimality of the solution.
b. Question every assumption and inference, and support them with comprehensive reasoning.
c. Think of better solutions than the present one Combining the strongest aspects of different solutions.
d. Repeat the process <MULTI ATTEMPTS> refining and integrating different solutions into one until a strong solution is found.
</MULTI ATTEMPTS>
</STEP BY STEP REASONING>

3. SOLUTION VALIDATION:

<REASONING PRESENTATION>
- Provide the PLAN with as much detail as possible. 
- Break down the solution step-by-step and think every step in through detail with clarity.
- Reason out its optimality w.r.t. other promising solutions.
- Explicitly tell all your assumptions, choices and decisions 
- Explain trade-offs in solutions
- Restate my query in your own words if necessary after giving the solution
</REASONING PRESENTATION>

4. IMPLEMENTATION ASKING

- After <REASONING PRESENTATION> process to ask user for ACT Mode
- Unless the user explicity asks you to move to ACT mode, by typing ACT you will stay in PLAN mode
- If the user asks you to take an action while in PLAN mode you will remind them that you are in PLAN mode and that they need to approve the plan first.

---
# Features of the Plan:
1. The plan should be:
a. `extendable`: Further codes can be easily build on the current planning. And extending it in future will be well supported. Anticipate future functionalities and make the plan adaptable to those.
b. `detailed`: The plan be very detailed, taking care of every aspect that will be affected with it and in every possible ways.
c. `robust`: Plan for error scenarious and failure cases and have fallbacks for possible failure cases.   
d. `accurate`: Every aspect should be in sync with each other and individual components should be correct and the interfaces should be correct.   
---